<div class="login-wrapper safe-area">

    <div class="stepper">
        <div class="stepper-viewport" [style.transform]="`translateX(-${100 * currentStep()}%)`">
            <div class="step">
                <div>
                    <h3>¡Bienvenido!</h3> Ingresa tu número de WhatsApp para acceder o registrarte y disfruta de una
                    experiencia
                    segura y personalizada.
                </div>
                <lidz-input errorMessage="Número de teléfono inválido" [formControl]="phoneNumberControl"
                    placeholder="Ej. +52 61 11 56 78" mask="+00 00 00 00 00 00" label="Número de WhatsApp">
                </lidz-input>

                <button lidz-button [disabled]="phoneNumberControl.invalid" [loading]="sendingCode"
                    (click)="sendWACode()">Enviar código</button>
            </div>

            <div class="step verify-number">
                <div>Ingresa el código de 6 dígitos que te enviamos por WhatsApp a el número de teléfono:
                    <h3>{{ phoneNumberControl.value }}</h3>
                    <div class="mini-button" (click)="currentStep.set(0)">Cambiar número</div>
                </div>
                <lidz-input errorMessage="El código debe de tener 6 dígitos alfanuméricos"
                    [formControl]="verificationCode" placeholder="xxx xxx" mask="000 000" label="Código de 6 dígitos">
                </lidz-input>
                <div class="code-actions">
                    <div class="resend-timer">
                        <!-- Reenviar código en 00:59 -->
                    </div>
                    <div class="mini-button" (click)="pasteFromClipboard()">Pegar código</div>


                </div>

                <button lidz-button [disabled]="verificationCode.invalid" [loading]="verifyingCode"
                    (click)="verifyWACode()">Verificar código y
                    entrar</button>
            </div>
        </div>

    </div>
</div>